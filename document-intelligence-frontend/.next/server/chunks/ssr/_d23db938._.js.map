{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ARUNI/Desktop/Document%20Intelligenence/document-intelligence-frontend/src/app/library/page.jsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\nexport default function LibraryPage() {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const res = await fetch('http://127.0.0.1:8000/api/documents/');\r\n      const data = await res.json();\r\n      setDocuments(data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('Error fetching documents:', err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!confirm('Are you sure you want to delete this document?')) return;\r\n\r\n    try {\r\n      const res = await fetch(`http://127.0.0.1:8000/api/documents/${id}/`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (res.ok) {\r\n        setDocuments((prev) => prev.filter((doc) => doc.id !== id));\r\n      } else {\r\n        console.error('Failed to delete document');\r\n      }\r\n    } catch (err) {\r\n      console.error('Delete error:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Document Library</h1>\r\n      {loading ? (\r\n        <p>Loading...</p>\r\n      ) : documents.length === 0 ? (\r\n        <p>No documents uploaded.</p>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {documents.map((doc) => (\r\n            <div key={doc.id} className=\"border rounded p-4 shadow hover: transition\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <div className=\"font-semibold text-lg\">{doc.title}</div>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n  \r\n\r\n  <span className={`\r\n    text-xs px-2 py-1 rounded-full font-medium\r\n    ${doc.processing_status === 'completed' ? 'bg-green-100 text-green-800' :\r\n      doc.processing_status === 'processing' ? 'bg-yellow-100 text-yellow-800 animate-pulse' :\r\n      'bg-red-100 text-red-800'}\r\n  `}>\r\n    {doc.processing_status}\r\n  </span>\r\n</div>\r\n\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    Type: {doc.file_type.toUpperCase()} | Pages: {doc.pages}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    Uploaded: {new Date(doc.uploaded_at).toLocaleString()}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-700\">Status: {doc.processing_status}</div>\r\n                  <Link href={`/chat/${doc.id}`} className=\"text-blue-600 hover:underline inline-block mt-1\">\r\n                    Open Chat â†’\r\n                  </Link>\r\n                </div>\r\n                <button\r\n                  onClick={() => handleDelete(doc.id)}\r\n                  className=\"text-red-500 border border-red-500 px-3 py-1 rounded hover:bg-red-50\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,aAAa;YACb,WAAW;QACb,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,WAAW;QACb;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,mDAAmD;QAEhE,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAC,EAAE;gBACpE,QAAQ;YACV;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,aAAa,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;YACzD,OAAO;gBACL,QAAQ,KAAK,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YACvC,wBACC,8OAAC;0BAAE;;;;;uBACD,UAAU,MAAM,KAAK,kBACvB,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,oBACd,8OAAC;wBAAiB,WAAU;kCAC1B,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAAyB,IAAI,KAAK;;;;;;sDAEjD,8OAAC;4CAAI,WAAU;sDAG/B,cAAA,8OAAC;gDAAK,WAAW,CAAC;;IAEhB,EAAE,IAAI,iBAAiB,KAAK,cAAc,gCACxC,IAAI,iBAAiB,KAAK,eAAe,gDACzC,0BAA0B;EAC9B,CAAC;0DACE,IAAI,iBAAiB;;;;;;;;;;;sDAIR,8OAAC;4CAAI,WAAU;;gDAAwB;gDAC9B,IAAI,SAAS,CAAC,WAAW;gDAAG;gDAAW,IAAI,KAAK;;;;;;;sDAEzD,8OAAC;4CAAI,WAAU;;gDAAwB;gDAC1B,IAAI,KAAK,IAAI,WAAW,EAAE,cAAc;;;;;;;sDAErD,8OAAC;4CAAI,WAAU;;gDAAwB;gDAAS,IAAI,iBAAiB;;;;;;;sDACrE,8OAAC,4JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE;4CAAE,WAAU;sDAAkD;;;;;;;;;;;;8CAI7F,8OAAC;oCACC,SAAS,IAAM,aAAa,IAAI,EAAE;oCAClC,WAAU;8CACX;;;;;;;;;;;;uBAhCK,IAAI,EAAE;;;;;;;;;;;;;;;;AA0C5B","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ARUNI/Desktop/Document%20Intelligenence/document-intelligence-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}